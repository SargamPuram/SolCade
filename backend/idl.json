{
  "version": "0.1.0",
  "name": "arcade_game",
  "instructions": [
    {
      "name": "initializePot",
      "accounts": [
        { "name": "potAccount", "isMut": true, "isSigner": false },
        { "name": "signer", "isMut": true, "isSigner": true },
        { "name": "systemProgram", "isMut": false, "isSigner": false }
      ],
      "args": [
        { "name": "gameId", "type": "string" },
        { "name": "potNumber", "type": "u64" }
      ]
    },
    {
      "name": "payEntryFee",
      "accounts": [
        { "name": "potAccount", "isMut": true, "isSigner": false },
        { "name": "player", "isMut": true, "isSigner": true },
        { "name": "systemProgram", "isMut": false, "isSigner": false }
      ],
      "args": [{ "name": "amount", "type": "u64" }]
    },
    {
      "name": "checkPotStatus",
      "accounts": [{ "name": "potAccount", "isMut": false, "isSigner": false }],
      "args": [],
      "returns": "u64"
    },
    {
      "name": "distributeWinners",
      "accounts": [
        { "name": "potAccount", "isMut": true, "isSigner": false },
        { "name": "systemProgram", "isMut": false, "isSigner": false }
      ],
      "args": [{ "name": "winners", "type": { "vec": "publicKey" } }]
    },
    {
      "name": "closePot",
      "accounts": [{ "name": "potAccount", "isMut": true, "isSigner": false }],
      "args": []
    }
  ],
  "accounts": [
    {
      "name": "GamePot",
      "type": {
        "kind": "struct",
        "fields": [
          { "name": "gameId", "type": "string" },
          { "name": "potNumber", "type": "u64" },
          { "name": "totalLamports", "type": "u64" },
          { "name": "status", "type": { "defined": "PotStatus" } }
        ]
      }
    }
  ],
  "types": [
    {
      "name": "PotStatus",
      "type": {
        "kind": "enum",
        "variants": [{ "name": "Active" }, { "name": "Ended" }]
      }
    }
  ],
  "errors": [
    { "code": 6000, "name": "PotNotActive", "msg": "The pot is not active." },
    {
      "code": 6001,
      "name": "InvalidWinnerList",
      "msg": "Invalid winner list: must contain exactly 5 addresses."
    },
    {
      "code": 6002,
      "name": "WinnerPubkeyMismatch",
      "msg": "Winner public key does not match the expected order."
    },
    {
      "code": 6003,
      "name": "MathError",
      "msg": "Overflow or underflow error during lamport math."
    }
  ]
}
